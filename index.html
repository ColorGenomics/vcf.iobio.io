<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>vcf.iobio.io</title>

        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-47481907-3', 'auto');
          ga('send', 'pageview');

        </script>

        <link href='http://fonts.googleapis.com/css?family=Overlock+SC' rel='stylesheet' type='text/css'>
        <link href='assets/css/quicksand.css' rel='stylesheet' type='text/css'>
        <link href="assets/css/flat-ui.css" rel="stylesheet" type='text/css'>
		<link href='components/nprogress/nprogress.css' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="components/alertify.js/themes/alertify.core.css" />
        <link rel="stylesheet" href="components/alertify.js/themes/alertify.default.css" />
		<link href="assets/css/iobio.css" rel="stylesheet" type='text/css'>
		<link href="assets/css/vcf.iobio.css" rel="stylesheet" type='text/css'/>

		<script type="text/javascript" src="components/d3/d3.js"></script>
        <script type="text/javascript" src="components/jquery/dist/jquery.min.js"></script>
        <script type="text/javascript" src="components/nprogress/nprogress.js"></script>
        <script type="text/javascript" src="components/alertify.js/lib/alertify.min.js"></script>
        <script type="text/javascript" src="assets/js/class.js"></script>
        <script type="text/javascript" src="assets/js/rdp.js"></script>

        <script src="assets/js/binary.js"></script>

        <script src="assets/js/jdataview.js"></script>
        <script src="assets/js/jparser.js"></script>
        <script src="assets/js/inflate.js"></script>
        <script src="assets/js/pako_deflate.min.js"></script>
        <script src="assets/js/jsbgzf.js"></script>
        <script src="assets/js/js-bv-sampling.js"></script>
        <script src="assets/js/js-local-vcf.js"></script> 

           <!--  <script type="text/javascript" src="assets/js/binary-vcf.js"></script> -->
        
	</head>
	<body>
        <header>
          
        </header>

        
        <div id="selectData">
            <header>
                <a href="http://vcf.iobio.io">vcf<span style="color:rgb(200,200,200)">.iobio.io</span></a>
            <div style="float:right" class="iobio-project" style="padding-top:20px">
                <a href="http://iobio.io" style="margin: 0px 5px 0px 5px;">an iobio project</a>                     
            </div>
            
            </header>    
               
            <div style="width:700px; margin-left:auto; margin-right:auto; margin-top: 70px">

                <div style="margin-left:auto;margin-right:auto;font-size: 28px; color: rgb(110,110,110); margin-bottom:40px">                
                    <center>examine your variant file in seconds</center>
                </div>
                
                <div class="file" onClick="$('#vcf-url').css('visibility', 'hidden')">
                    <input type="file" name="files[]" id="file"  multiple />
                    <label class="file-button" for="file" >choose vcf file</label>
                </div>
                <div class="file-button" style="text-align:center" onClick="displayVcfUrlBox()">choose vcf url</div>
                <div style="clear:both"></div>

            </div>
            <div id='vcf-url' style="margin-top:24px;width:800px;margin-left:auto;margin-right:auto;visibility:hidden" class="arrow_box">
                <input id="url-input" value="http://s3.amazonaws.com/vcf.files/ExAC.r0.2.sites.vep.vcf.gz" ></input><button id="vcf-url-go-button" onClick="onUrlEntered()">Go</button>
            </div>

            <div style="clear:both"></div>
            <div id="info">                                
                <ul>
                        <li><a href="help.html">File Requirements</a></li>
                        <li><a href="http://bam.iobio.io/license.html">License</a></li>
                        
                </ul>           
            </div>

            
            <div style="width:700px; margin-left:auto; margin-right:auto; margin-top: 60px">

                <strong>Variant files to try</strong>

                <table cellspacing="5px" width="700px">

                <tr>
                    <td>
                        Exome Aggregation Consortium (ExAC)
                    </td>

                    <td>
                        <a href="http://exac.broadinstitute.org/about">Website</a>
                    </td>

                     <td>
                        <a href="ftp://ftp.broadinstitute.org/pub/ExAC_release/release0.2/ExAC.r0.2.sites.vep.vcf.gz">File</a>

                    </td>


                    <td>
                        <a href="http://vcf.iobio.io?vcf=http://s3.amazonaws.com/vcf.files/ExAC.r0.2.sites.vep.vcf.gz">Show in vcf.iobio</a>
                    </td>
                </tr>


                <tr >
                    <td>
                        1000 Genomes Project 
                    </td>

                    <td>
                        <a href="http://www.1000genomes.org/data">Website</a>
                    </td>

                    <td>
                        <a href="ftp://ftp-trace.ncbi.nih.gov/1000genomes/ftp/release/20130502/ALL.wgs.phase3_shapeit2_mvncall_integrated_v5.20130502.sites.vcf.gz">File</a>
                    </td>

                    <td>
                        <a href="http://vcf.iobio.io?vcf=http://s3.amazonaws.com/vcf.files/ALL.wgs.phase3_shapeit2_mvncall_integrated_v5.20130502.sites.vcf.gz">Show in vcf.iobio</a>
                    </td>
                </tr>


                </table>

                <div style="margin-top: 40px"><strong>For sequence alignment files check out </strong><a style="margin-left: 37px" href="http://bam.iobio.io">bam.iobio</a></div>    
            </div>

            <div id="footer">                        
                <div class="logos">     
                    <div style="position:absolute; left: 100px; top:4px; font-size:50px;font-family:'Overlock SC', cursive;">Marthlab</div>     
                    <img src="assets/images/ustar-ucgd-logo.jpg" style="height:60px;"/>            
                    <a href="http://www.genetics.utah.edu/"><img src="assets/images/genetics_mainlogo3_lrg.png" style="height:50px;position:absolute;right:0px;top:7px"/></a>          
                </div>                      
            </div>

        </div>

        <div  id="showData">

            <div id="page" >
                <section id="banner">
    				
                    <div id="banner-title" >
                        <header><a href="http://vcf.iobio.io">vcf<span style="color:rgb(200,200,200)">.iobio.io</span></a></header>
                         <span id="vcf_file"></span>
                    </div>

                    <div id="banner-middle">
                       
                        <div id="vcf_selection">
                            <div id="reference_selected"></div>
                            <div id="region_selected"></div>
                        </div>
                    </div>
    				
                    <div id="total-reads" >
                        
                        <div >
                            <span id="value"> 0</span>
                        </div>
                        <div style="padding-left: 4px" >
                            <div id="number"></div>
                            <div id="label">variants sampled</div>
                        </div>
                        <div style="padding-left: 10px">
                            <img style="width: 20px; height: 20px;"  
                                 title="Sample More" 
                                 onClick="increaseSampling()"
                                 src="assets/images/more_sampling.png">
                             </img>
                        </div>
                    </div>
    			</section>

                <section id="top" >

                   
                    <div id="chromosome-picker" class="panel">
                        <div class="title">References</div>
                        <div class="samplingLoader big">Initializing<img src="assets/images//loading_dots.gif"/></div>
                        <div id="primary-references">
                        </div>    
                        <div id="other-references">
                             <label>Other references</label>
                             <select id="other-references-dropdown">
                               <option value=""></option>
                             </select>
                        </div>                    
                    </div>
                    <div id="variant-density-panel" class="panel">
                        <div class="title">Variant Density</div>
                        <span class="svg-alt hint">(drag bottom chart to select region)</span>
                        <div class="samplingLoader big">Initializing<img src="assets/images//loading_dots.gif"/></div>
                        <div id="variant-density">
                        </div>    
                        <div id="variant-density-vf" style="margin-top:  -8px;">

                        </div>
                        <div id="variant-density-ref-vf">

                        </div>


                    </div>


                </section>
              
    			<section id="middle"  >

                        <div id="tstv-ratio" class="panel">
                            <div class="title">TSTV Ratio</div>
                            <div class="samplingLoader">Sampling <img src="assets/images/loading_dots.gif"/></div>
                            <div id="ratio-panel" class="svg-alt">
                            </div>  
                            <div id="ratio-value" class="svg-alt" ></div>
                        </div>

                        <div id="allele-freq" class="panel">
                             <div class="title">Allele Frequency Spectrum</div>
                            <div class="samplingLoader">Sampling <img src="assets/images/loading_dots.gif"/></div>
                            <svg id="allele-freq-histogram"/>
                        </div>
                        <div id="mut-spectrum" class="panel">
                             <div class="title">Base Changes</div>
                            <div class="samplingLoader">Sampling <img src="assets/images/loading_dots.gif"/></div>
                        </div>
                </section>

                <section id="bottom"  >


                        <div id="var-type" class="panel">
                             <div class="title">Variant Types</div>
                            <div class="samplingLoader">Sampling <img src="assets/images/loading_dots.gif"/></div>
                        </div>

                        <div id="indel-length" class="panel">
                             <div class="title">Insertion &amp; Deletion Lengths</div>
                            <div class="samplingLoader">Sampling <img src="assets/images/loading_dots.gif"/></div>
                            <svg id="indel-length-histogram"/>
                        </div>

                        <div id="qual-distribution" class="panel">
                             <div class="title">Variant Quality</div>
                            <div class="samplingLoader">Sampling <img src="assets/images/loading_dots.gif"/></div>
                            <svg id="qual-distribution-histogram"/>
                        </div>
                </section>

           
    		</div>
        </div>

        
        <script>
            var div = d3.select("body").append("div")   
                .attr("class", "tooltip")               
                .style("opacity", 0);
        </script>             

        <script type="text/javascript" src="app/vcf.iobio.js"></script>
        <script type="text/javascript" src="app/donutChooser.d3.js"></script>
        <script type="text/javascript" src="app/line.d3.js"></script>
        <script type="text/javascript" src="app/barChartAlt.d3.js"></script>
        <script type="text/javascript" src="app/histogram.d3.js"></script>
        <script type="text/javascript" src="app/groupedBar.d3.js"></script>
        <script type="text/javascript" src="app/app.js"></script>

	</body>
</html>